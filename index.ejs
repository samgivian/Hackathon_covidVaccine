<!DOCTYPE html>
<html>

<head>
    <title>Complex Marker Icons</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://polyfill.io/v3/polyfill.min.js?features=default"></script>
    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDYHtxBgcRBh1ZPuGe4MigNQax30a5b6OM&callback=initMap&libraries=&v=weekly"
        defer></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
        integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js"
        integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
        integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
    <style type="text/css">
        #map {
            height: 50%;
        }

        html,
        body {
            height: 100%;
            margin: 0;
            padding: 0;
        }

        .navbar {
            padding: 18px;
            background-color: #25283D;
        }

        .navbar-dark .navbar-nav .nav-link:hover {
            color: #717EC3
        }

        .navbar-dark .navbar-nav .nav-link {
            color: white;
            font-weight: bold;
        }

        .nav-active {
            color: white;
            text-decoration: none;
        }

        .nav-active:hover {
            color: #25283D;
            text-decoration: none;
        }
    </style>
    <script>
        function initMap() {
            const map = new google.maps.Map(document.getElementById("map"), {
                zoom: 13,
                center: { lng: -117.823059, lat: 33.669445 },
            });
            setMarkers(map);
        }
        // This shouldn't be touched or changed 
        var hospitals = [];
        let HospitalList = '<%= HopsitalList.join("*")%>';
        HospitalList = HospitalList.split('*');
        for(i=0;i<HospitalList.length;i++){
            HospitalList[i]=HospitalList[i].split(',');
        }
        const beaches = []
        HospitalList.forEach(function (item, index) {
            beaches.push([HospitalList[index][0],HospitalList[index][2],HospitalList[index][1]]);
        });
        console.log(beaches);
        
    

        function setMarkers(map) {
            const contentString =
                '<div id="content">' +
                '<div id="siteNotice">' +
                "</div>" +
                '<h1 id="firstHeading" class="firstHeading">Uluru</h1>' +
                '<div id="bodyContent">' +
                "<p><b>Uluru</b>, also referred to as <b>Ayers Rock</b>, is a large " +
                "Heritage Site.</p>" +
                '<p>Attribution: Uluru, <a href="https://en.wikipedia.org/w/index.php?title=Uluru&oldid=297882194">' +
                "https://en.wikipedia.org/w/index.php?title=Uluru</a> " +
                "(last visited June 22, 2009).</p>" +
                "</div>" +
                "</div>";
            const infowindow = new google.maps.InfoWindow({
                content: contentString,
                maxWidth: 200,
            });
            for (let i = 0; i < beaches.length; i++) {
                const beach = beaches[i];
                const marker = new google.maps.Marker({
                    position: { lat: parseFloat(beach[1]), lng: parseFloat(beach[2]) },
                    map,
                    title: beach[0],
                    label: { color: 'black', fontWeight: 'bold', fontSize: '14px', text: beach[0] }
                });
                marker.addListener("click", () => {
                    infowindow.open(map, marker);
                });

            }
        }


        function myFunction() {
            fetch('/', {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({
                    "email": "asdasd",
                    "password": "Sads"
                }),
            })
        }
    </script>
</head>

<body>

    <nav class="navbar navbar-expand-lg navbar-dark ">
        <a class="navbar-brand" href="#" style="font-weight: bold; font-size:x-large;"><span style="color:#717EC3">
                Covid-19
            </span> Vaccine Finder</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
            <div class="navbar-nav">
                <a class="nav-active" href="#"
                    style="font-weight: bold;padding:10px 30px;background-color:#717EC3;border-radius: 15px;text-align: center;">Home</a>
                <a class="nav-item   nav-link " href="/map" style="margin: auto;">Vaccine Map</a>
                <a class="nav-item   nav-link " href="#" style="margin: auto;"> Pricing</a>

            </div>
        </div>
    </nav>
    <div style="padding-left:16px">
 
  

       
    </div>
    <div id="map"></div>

    <button onclick="myFunction()"> dfsf</button>
</body>

</html>
   